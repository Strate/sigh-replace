{"version":3,"sources":["../src/index.js"],"names":[],"mappings":";;;;;;iCAA0B,sBAAsB;;8BAC5B,mBAAmB;;qBAExB,UAAS,EAAE,EAAa;MAAX,IAAI,yDAAG,EAAE;;AACnC,MAAI,AAAC,EAAE,QAAQ,IAAI,IAAI,CAAA,AAAC,IAAM,EAAE,aAAa,IAAI,IAAI,CAAA,AAAC,AAAC,EAAE;AACvD,WAAO,CAAC,KAAK,CAAC,uEAAuE,CAAC,CAAC;AACvF,UAAM,KAAK,CAAC,uEAAuE,CAAC,CAAA;GACrF;;AAED,SAAO,kCAAU,EAAE,CAAC,MAAM,EAAE,UAAA,KAAK,EAAI;AACnC,QAAI,KAAK,CAAC,IAAI,KAAK,KAAK,IAAI,KAAK,CAAC,IAAI,KAAK,QAAQ,EAAE;AACnD,aAAO,KAAK,CAAA;KACb;;AAED,QAAI,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,QAAQ,KAAK,IAAI,CAAC,QAAQ,EAAE;AACrD,aAAO,KAAK,CAAA;KACb;;AAED,SAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;AAC/D,WAAO,KAAK,CAAA;GACb,CAAC,CAAA;CACH","file":"src/index.js","sourcesContent":["import { mapEvents } from 'sigh-core/lib/stream'\nimport { log } from 'sigh-core/lib/log'\n\nexport default function(op, opts = {}) {\n  if ((!(\"search\" in opts)) || (!(\"replacement\" in opts))) {\n    console.error(\"Please provide 'search' and 'replacement' options to 'replace' plugin\");\n    throw Error(\"Please provide 'search' and 'replacement' options to 'replace' plugin\")\n  }\n\n  return mapEvents(op.stream, event => {\n    if (event.type !== 'add' && event.type !== 'change') {\n      return event\n    }\n\n    if (opts.fileType && event.fileType !== opts.fileType) {\n      return event\n    }\n\n    event.data = event.data.replace(opts.search, opts.replacement);\n    return event\n  })\n}\n"]}